Crime Investigation System (CIS) DatabaseOverviewThe Crime Investigation System (CIS) is a modular, relational database schema designed to manage the complete lifecycle of criminal investigations. It handles data regarding cases, officers, suspects, evidence chains of custody, and legal warrants.This project is built using SQL (optimized for PostgreSQL) and features robust data integrity checks, automated auditing, role-based security, and reporting views.Project StructureThe database is modularized into specific SQL files for maintainability and ease of deployment:FileModuleDescriptioninstall.sqlMaster InstallerOrchestrates the execution of all modules in the correct dependency order.01_schema.sqlDDL & SchemaDefines tables, constraints, sequences, and indexes. Includes enhancement tables for notes, victims, and warrants.02_procedures.sqlLogic & SecurityContains Stored Procedures, custom Functions (UUID/Case ID generation), and Role-Based Access Control (RBAC).03_triggers.sqlAutomationDefines database triggers for audit logging and immutable data protection.04_views.sqlReportingPre-built analytical views for officer workload and cold case analysis.05_seed_data.sqlSeed DataPopulates the database with sample officers, suspects, cases, and evidence for testing purposes.Key Features1. Core Case ManagementAutomated Case Numbering: Custom function generates formatted case numbers (e.g., CASE-2023-0001).Status Tracking: Enforces strict status workflows (OPEN, IN_PROGRESS, COLD, CLOSED, ARCHIVED).Case Enhancements: Supports detailed investigative notes, victim data, and warrant tracking.2. Evidence & Chain of CustodyImmutable Logs: A strict evidence_chain table tracks the movement of evidence.Tamper Protection: Database triggers prevent updates or deletions of historical chain-of-custody records to ensure legal admissibility.3. Security & AuditingRole-Based Access Control (RBAC): Pre-defined roles for investigator, evidence_manager, auditor, and admin.Audit Logging: An audit_log table automatically captures changes to sensitive case data via triggers.Encryption Ready: Schema allows for specific columns (PII) to be marked for application-level encryption.Database SchemaCore Entitiesofficers: Police force personnel, ranks, and badges.cases: The central entity linking location, status, and lead officers.suspects: Database of potential suspects with biometric hash placeholders and risk levels.evidence: Inventory of physical and digital assets collected.Relationshipscase_suspects: Links suspects to cases with specific roles.case_officers: Assigns multiple officers to a single investigation.victims: Tracks individuals harmed in specific cases.Legal & Systemwarrants: Tracks judicial warrants (Arrest, Search, Surveillance) and their status.case_notes: detailed investigative logs.audit_log: System-level activity tracking.InstallationPrerequisitesPostgreSQL (Recommended) or a compatible SQL relational database.Command line access to psql or a SQL GUI tool.Setup StepsClone the repository.Ensure you have the necessary permissions to create schemas and roles.Run the master install script:Bashpsql -U postgres -d your_database_name -f install.sql
Note: The install.sql script uses the \i command to include other files. This is specific to the psql client.Usage GuideStored ProceduresThe system utilizes stored procedures to handle complex business logic safely.Create a New Case:SQLCALL sp_create_case(
    'Robbery at Central Park', -- Title
    'Suspect fled south...',   -- Description
    'officer-uuid-here',       -- Lead Officer ID
    'HIGH',                    -- Priority
    ?, ?                       -- Output params for Case ID and Number
);
Update Evidence Chain of Custody:SQLCALL sp_update_evidence_status(
    'evidence-uuid-here',      -- Evidence ID
    'LAB',                     -- New Status
    'officer-uuid-here',       -- Handled By
    'Sent for DNA analysis'    -- Notes
);
Add a Sensitive Case Note:SQLCALL sp_add_case_note(
    'case-uuid-here', 
    'officer-uuid-here', 
    'Confidential informant tip...', 
    1 -- Is Sensitive (1 = True)
);
Reporting ViewsUse pre-built views for dashboards and reporting:vw_officer_workload: View active case counts per officer.vw_unsolved_cases_aging: List cases that have been open/in-progress for more than 30 days.Security ConfigurationRolesThe database installs the following roles. Please assign users to these roles based on their clearance:investigator: Can view/edit cases and suspects; can insert evidence.evidence_manager: Can update evidence status (Chain of Custody).auditor: Read-only access to audit logs.admin: Full privileges on case management.UUID GenerationNote: The gen_uuid() function in 02_procedures.sql is currently a placeholder. In a production PostgreSQL environment, please replace the return statement with gen_random_uuid() (pgcrypto extension) or your database's native UUID generator.
